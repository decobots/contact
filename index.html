<!DOCTYPE html>
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.css" />
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.1/jquery.mobile-1.4.1.min.js"></script>
	<script type="text/javascript" src="phonegap.js"></script>
	<script type="text/javascript">
function init(){
     document.addEventListener("deviceready", onDeviceReady, false);
}
function onDeviceReady(){
	document.getElementById("But1").onclick=list;
	document.getElementById("But2").onclick=add;
}

function list(){

	var options      = new ContactFindOptions();
	options.filter   = "";
	options.multiple = true;
	var fields       = ["displayName", "name"];//["*"];
	navigator.contacts.find(fields, onSuccess1, onError, options);
}
function onSuccess1(contacts) {
    document.getElementById("cont").innerHTML="";
    for (var i=0;i<contacts.length;i++){
    	document.getElementById("cont").innerHTML+=""+contacts[i].displayName;
    	document.getElementById("cont").innerHTML+="<br>";
    }
};
function add(){
	
	// create a new contact object
	var contact = navigator.contacts.create();
//	contact.displayName = "Plumber";
	contact.nickname = document.getElementById("text3");            // specify both to support all devices
	
	// populate some fields
	var name = new ContactName();
	name.givenName = document.getElementById("text1");
	name.familyName = document.getElementById("text2");
	contact.name = name;
	contact.phoneNumbers[0]=new ContactField('mobile', document.getElementById("tel"), false);
	// save to device
	contact.save(onSuccess2,onError);
}

function onSuccess2(contact) {
    alert("Save Success");
};

function onError(contactError) {
    alert("Error = " + contactError.code);
};
	

function onError(contactError) {
    alert('onError!');
};


</script>        
</head>
<body onload="init()">
<!-- page1========================================================================================== -->
<div data-role="page" data-theme="a" id="p1">

	<div data-role="header">
		<h1>Contacts</h1>
	</div><!-- /header -->

	<div role="main" class="ui-content">
		<div id="cont"></div>
		<div data-role="navиar">
			<button id="But1">Имеющиеся контакты</button>
			<button id="But2" class="ui-icon-add">Добавить контакт</button>
		</div>
		
		<p>Add new</p>
		<label for="text1">Имя:</label>
		<input type="text" name="text-basic" id="text1" value="">
		<label for="text2">Фамилия:</label>
		<input type="text" name="text-basic" id="text2" value="">
		<label for="text1">Кличка:</label>
		<input type="text" name="text-basic" id="text1" value="">
		<label for="tel">Телефон:</label>
		<input type="tel" name="tel" id="tel" value="">
		
	</div><!-- /content -->

	<div data-role="footer">
	
	</div><!-- /footer -->
</div><!-- /page -->

<!-- page1============================================================================= -->
<!-- page1============================================================================= -->
<!-- page1============================================================================= -->
</body>
</html>
